---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SEO from '../components/SEO.astro';
import { posts } from '../data/blog-posts';
import { formatDate } from '../utils/date';

const title = "IT Services Blog | Expert IT Insights for Calgary and Vancouver Businesses";
const description = "Stay informed with the latest IT insights, cybersecurity tips, and technology trends for businesses in Calgary and Vancouver. Expert advice from your local IT service provider.";
---

<Layout title={title}>
    <SEO 
        title={title}
        description={description}
        canonicalURL="/blog"
        keywords={[
            "IT Services blog",
            "IT Support tips",
            "Cybersecurity blog",
            "Business IT advice",
            "IT Services Calgary blog",
            "IT Services Vancouver blog",
            "Small business IT tips",
            "Technology trends"
        ]}
    />
    <Header />
    <main>
        <section class="blog-hero">
            <div class="container">
                <h1>IT Services Blog</h1>
                <p>Expert insights and tips for your business technology needs</p>
            </div>
        </section>

        <section class="blog-posts">
            <div class="container">
                <div class="posts-grid">
                    {posts.map(post => (
                        <article class="post-card">
                            <div class="post-image">
                                <img src={post.image} alt={post.title} />
                            </div>
                            <div class="post-content">
                                <h2>{post.title}</h2>
                                <p>{post.content.split('</p>')[0].replace('<p>', '')}</p>
                                <div class="post-meta">
                                    <time datetime={post.date}>{formatDate(post.date)}</time>
                                    <span class="category">{post.category}</span>
                                </div>
                                <a href={`/blog/${post.slug}`} class="read-more">Read More</a>
                            </div>
                        </article>
                    ))}
                </div>
            </div>
        </section>
    </main>
    <Footer />
</Layout>

<style>
    .blog-hero {
        background: var(--primary-color);
        color: var(--white);
        padding: 4rem 0;
        text-align: center;
    }

    .blog-hero h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }

    .blog-posts {
        padding: 4rem 0;
    }

    .posts-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .post-card {
        background: var(--white);
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }

    .post-card:hover {
        transform: translateY(-5px);
    }

    .post-image {
        height: 200px;
        overflow: hidden;
    }

    .post-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .post-content {
        padding: 1.5rem;
    }

    .post-content h2 {
        font-size: 1.4rem;
        color: var(--primary-heading);
        margin-bottom: 1rem;
    }

    .post-content p {
        color: var(--text-color);
        margin-bottom: 1rem;
        line-height: 1.6;
    }

    .post-meta {
        font-size: 0.9rem;
        color: var(--text-color);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .post-meta time {
        color: var(--text-light);
    }

    .category {
        background: var(--accent-color);
        color: white;
        padding: 2px 10px;
        border-radius: 15px;
        font-size: 0.8em;
    }

    .read-more {
        display: inline-block;
        color: var(--button-color);
        text-decoration: none;
        font-weight: 600;
        transition: color 0.3s ease;
    }

    .read-more:hover {
        color: var(--primary-color);
    }

    @media (max-width: 768px) {
        .blog-hero {
            padding: 3rem 0;
        }

        .blog-hero h1 {
            font-size: 2rem;
        }

        .posts-grid {
            grid-template-columns: 1fr;
        }
    }
</style> 