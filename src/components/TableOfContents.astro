---
// Table of Contents Component
// Generates consistent, accessible navigation for blog posts

export interface Props {
    headings: {
        text: string;
        id: string;
        level?: number;
    }[];
    title?: string;
}

const { headings, title = "In This Article" } = Astro.props;
---

{headings && headings.length > 0 && (
    <aside class="table-of-contents">
        <h3>{title}</h3>
        <nav class="toc-nav" aria-label="Table of contents">
            <ul>
                {headings.map(heading => (
                    <li>
                        <a href={`#${heading.id}`} 
                           data-level={heading.level || 2}
                           aria-label={`Jump to ${heading.text}`}>
                            {heading.text}
                        </a>
                    </li>
                ))}
            </ul>
        </nav>
    </aside>
)}